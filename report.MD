# Report
The application shows important information about the Second World War. It consists of a map, a bar chart and a sunburst graph. The bar chart is linked to the map, showing casualties in a country during the Second World War, if a user clicks on that country on the map. The map has a play button, when clicked showing the territory changes in colour over time of the German and allied forces. The sunburst dataset consists of significant battles during the Second World War. A user can zoom in on a particular country and see the battles in that country, along with the casualties on the axis and allied side per battle.

<img src="doc/application.png" width="500px"/>


## Code Overview
The application consists of datasets, one html file, one css file, a python csv to json converter and multiple javascript files. The functionality of the application is written in javascript (and of course html and css). There is a main function, which calls the important functions so that the web page is ready for use. The main function calls other functions that are in separate files, so that there is a clear overview of the different parts of the application. 

In main.js, first the map is created with a createMap function. In createMap.js, the createBarChart function is called so that the application is ready for user clicks on the map (showing a bar chart). The createBarChart function is in a separate file, createBarChart.js. 
After the createMap function is called in main.js, the interval function is called, with map as an argument. By calling this function, which is in interval.js, the user is able to click the play button and the timer+visualisation starts. Inside interval.js, the colorUpdater function is called when the play button is clicked, so that the colors of the countries update over time, showing the territory changes. The colorUpdater function is in the colorUpdater.js file. Also, the scroller function (in scroller.js) is called in main.js, so that the user is able to click the scroll button. Lastly, the sunburst function is called, so that the sunburst is created. 

The graphs are created with the use of the d3 library. Furthermore, bootstrap is used for buttons, as well as font awesome icons. The map is created using the datamaps library.

## Development Challenges
The idea was first to make a slider connected to the map, that a user could drag to go over the months from 1939-1945. The slider would update the colours on the map showing the territory changes. However, when the slider was finished, it was buggy with the colour changes. If the slider was dragged too fast, the colours would not update accurately. I discussed this with my teaching assistant (Sascha) and we decided that it would be better to remove the slider and make a play button. When this play button is clicked, it would start the map colouring visualisation with the months showing below the map. A user would also be able to pause and refresh the visualisation. This solution worked out fine.
Furthermore, another colouring challenge was how I would show a partly occupied country. For instance, the Germans did invade Soviet Union but the Soviets never surrendered, meaning it was not full German territory. This was fixed by giving invaded countries (but no surrender) a light orange colour, instead of the red German colour.

Another challenge was the battles data for the sunburst. There was a very large set of data on Wikipedia. However, the data could not be scraped due to the differences in formatting of each page and it was too large to organize the data manually. Therefore, it was decided to use another site, https://www.thoughtco.com/world-war-ii-battles-2361453, which was a smaller dataset of battles, but at least it showed a good amount of important battles. Sometimes when data of a battle was incomplete on the thoughtco website, the wikipedia page would be still used to retrieve data from that particular battle manually. 

The idea was to connect the sunburst to the map as well. When a country would be clicked, the sunburst would open at that country. However, because there already would be a bar chart next to the map, the sunburst had to be below the map, meaning a user had to scroll down to see it. An idea was to make a text appear when a country was clicked, that the sunburst was updated, so a user had to scroll down to see it. When working on the application, the text seemed a bit redundant, therefore a menu was placed next to the sunburst, consisting of all the countries in the sunburst, which was also already part of the initial design idea. Another reason why it would not be smart to connect the sunburst to the map, is that not all the European countries are in the sunburst dataset. By only using the menu next to the sunburst, a user knows which countries are available to him/her in the sunburst.

Some inaccuracy was found in the Wikipedia war casualties dataset for the bar chart. Total deaths did not always add up right with the civilian deaths and military deaths. However, this was still the most resourceful and useful dataset that I found, therefore it was decided to still use this dataset.

## Visual Design Choices
The bar chart text color was chosen as black. There is already a lot of white text and I believe the black text of the bar chart makes it visually more attractive. Furthermore, a grey background that uses a linear gradient was chosen, because the Second World War was a difficult and dark period in time. The grey symbolizes that the best in my opinion. The buttons and bar chart bars are red coloured, which fits well with the gray. The map colour changes of countries were chosen by using color brewer. The colours are designed for people that are color blind as well. 
Lastly, a user has to hover over a sunburst radial to see the information. The reason that a user has to hover, instead of text in the sunburst radial itself, is that the text would not fit in a smaller radial. Therefore hovering to see information is the best option.



